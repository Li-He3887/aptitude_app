{"ast":null,"code":"import _Object$defineProperty from \"@babel/runtime-corejs2/core-js/object/define-property\";\nimport _Object$defineProperties from \"@babel/runtime-corejs2/core-js/object/define-properties\";\nimport _Object$getOwnPropertyDescriptors from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptors\";\nimport _Object$getOwnPropertyDescriptor from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor\";\nimport _Object$getOwnPropertySymbols from \"@babel/runtime-corejs2/core-js/object/get-own-property-symbols\";\nimport _Object$keys from \"@babel/runtime-corejs2/core-js/object/keys\";\nimport _Date$now from \"@babel/runtime-corejs2/core-js/date/now\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = _Object$keys(object); if (_Object$getOwnPropertySymbols) { var symbols = _Object$getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return _Object$getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (_Object$getOwnPropertyDescriptors) { _Object$defineProperties(target, _Object$getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { _Object$defineProperty(target, key, _Object$getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { Container, Grid, Box, Button, Typography, Stepper, MobileStepper, Step, StepLabel, Hidden, Radio, RadioGroup, FormControlLabel, CircularProgress } from '@material-ui/core';\nimport Router from 'next/router';\nimport ErrorPage from 'next/error';\nimport { NextSeo } from 'next-seo';\nimport { useSnackbar } from 'notistack';\nimport { get } from 'lodash';\nimport KeyboardArrowRight from '@material-ui/icons/KeyboardArrowRight';\nimport * as Sentry from '@sentry/browser';\nimport theme from '../../../config/theme';\nimport { getErrorMessage } from '../../../utils/error';\nimport ResponsiveImage from '../../../components/ResponsiveImage';\nimport FSAT_API from '../../../api';\nconst Centered = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  text-align: center;\n`;\nconst Main = styled(Centered)`\n  min-height: calc(100vh - 220px);\n  margin: 140px 0 80px;\n  padding: 20px 10px;\n\n  background ${theme.breakpoints.down('md')} {\n    min-height: calc(100vh - 170px);\n    margin: 105px 0 65px;\n    padding: 15px 10px;\n  }\n\n  ${theme.breakpoints.down('sm')} {\n    min-height: calc(100vh - 120px);\n    margin: 75px 0 45px;\n    padding: 20px 10px;\n  }\n`;\nconst Question = styled.div`\n  font-weight: 600;\n  font-size: 1rem;\n  text-align: left;\n\n  background ${theme.breakpoints.down('md')} {\n    font-size: 0.95rem;\n  }\n\n  ${theme.breakpoints.down('sm')} {\n    font-size: 0.9rem;\n  }\n`;\nconst Bar = styled(Centered)`\n  position: fixed;\n  height: 80px;\n  padding: 15px;\n  background-color: ${theme.palette.primary.main};\n\n  ${theme.breakpoints.down('md')} {\n    height: 65px;\n    padding: 12px;\n  }\n\n  ${theme.breakpoints.down('sm')} {\n    height: 45px;\n    padding: 8px;\n  }\n`;\nconst TopBar = styled(Bar)`\n  top: 0;\n  left: 0;\n`;\nconst QuestionStepperBar = styled(Bar)`\n  top: 80px;\n  left: 0;\n  height: 60px;\n  padding: 15px 0 0 0;\n  background-color: ${theme.palette.grey[100]};\n\n  ${theme.breakpoints.down('md')} {\n    top: 65px;\n    height: 50px;\n    padding: 15px 0 0 0;\n  }\n\n  ${theme.breakpoints.down('sm')} {\n    top: 45px;\n    height: 30px;\n    padding: 10px;\n  }\n`;\nconst BottomBar = styled(Bar)`\n  bottom: 0;\n  left: 0;\n`;\nconst TimerCountdown = styled(Typography)`\n  color: ${theme.palette.common.white};\n  font-weight: bold;\n`;\nconst NextButton = styled(Button)`\n  color: ${theme.palette.common.white};\n  font-weight: bold;\n\n  &:disabled {\n    color: ${theme.palette.grey[400]};\n  }\n`;\n\nconst Test = ({\n  data,\n  error\n}) => {\n  if (error) {\n    return __jsx(ErrorPage, {\n      statusCode: error.statusCode\n    });\n  }\n\n  const {\n    enqueueSnackbar\n  } = useSnackbar();\n  const {\n    0: testState,\n    1: setTestState\n  } = useState(_objectSpread({}, data, {\n    answer: null,\n    loading: false\n  }));\n  useEffect(() => {\n    if (!testState.ended && testState.timeTaken > 0) {\n      setInterval(() => {\n        setTestState(testState => _objectSpread({}, testState, {\n          timeTaken: (_Date$now() - Date.parse(testState.start)) / 1000\n        }));\n      }, 1000);\n    }\n  }, [null]);\n\n  const formatTime = timeInSeconds => {\n    const format = val => `0${Math.floor(val)}`.slice(-2);\n\n    const minutes = timeInSeconds % 3600 / 60;\n    return [minutes, timeInSeconds % 60].map(format).join(':');\n  };\n\n  const renderContent = () => {\n    // Test ended\n    if (testState.ended || testState.timeTaken > testState.duration) {\n      Router.push(`/tests/${testState.id}/report`);\n    }\n\n    if (testState.loading) {\n      return __jsx(CircularProgress, null);\n    } // Test not yet started\n\n\n    if (!testState.ended && testState.timeTaken === 0) {\n      return __jsx(Grid, {\n        container: true,\n        spacing: 3,\n        justify: \"center\"\n      }, __jsx(Grid, {\n        item: true,\n        xs: 12,\n        sm: 8,\n        md: 6\n      }, __jsx(Typography, {\n        style: {\n          fontWeight: 'bold'\n        },\n        variant: \"h4\",\n        component: \"p\",\n        gutterBottom: true\n      }, \"Instructions\"), __jsx(Box, {\n        textAlign: \"left\",\n        fontSize: \"h6.fontSize\"\n      }, __jsx(\"ol\", null, __jsx(\"li\", null, \"You must attempt all of the questions in this test.\"), __jsx(\"li\", null, \"You have 30 minutes to complete 20 questions, and once a question is answered it cannot be changed.\"), __jsx(\"li\", null, \"This is a timed test, so make sure you have a 30-minute block of uninterrupted time.\"), __jsx(\"li\", null, \"Coding knowledge is not required; the questions are simply testing your natural aptitude as a developer.\"), __jsx(\"li\", null, \"After completing the test, look for an email with your test report and next steps.\"))), __jsx(Button, {\n        variant: \"contained\",\n        color: \"primary\",\n        size: \"large\",\n        onClick: () => {\n          const fsatApi = FSAT_API();\n          setTestState(testState => _objectSpread({}, testState, {\n            loading: true\n          }));\n          fsatApi.startTest({\n            testId: testState.id\n          }).then(response => {\n            setTestState(testState => _objectSpread({}, testState, {}, response.data, {\n              timeTaken: (_Date$now() - Date.parse(response.data.start)) / 1000,\n              loading: false\n            }));\n            setInterval(() => {\n              setTestState(testState => _objectSpread({}, testState, {\n                timeTaken: (_Date$now() - Date.parse(response.data.start)) / 1000\n              }));\n            }, 1000);\n            return null;\n          }).catch(error => {\n            Sentry.captureException(error);\n            const errorMessage = getErrorMessage(error);\n            setTestState(testState => _objectSpread({}, testState, {\n              loading: false\n            }));\n            enqueueSnackbar(errorMessage.message, {\n              variant: errorMessage.type,\n              anchorOrigin: {\n                vertical: 'bottom',\n                horizontal: 'left'\n              }\n            });\n          });\n        }\n      }, \"Start\")));\n    }\n\n    if (testState.question) {\n      const {\n        description,\n        image,\n        answerChoices\n      } = testState.question;\n      return __jsx(Grid, {\n        container: true,\n        spacing: 3,\n        justify: \"center\"\n      }, __jsx(Grid, {\n        item: true,\n        xs: 12,\n        sm: 8,\n        md: 6\n      }, image.data && __jsx(ResponsiveImage, {\n        src: `data:${image.contentType};base64,${image.data}`\n      }), __jsx(Question, {\n        dangerouslySetInnerHTML: {\n          __html: description\n        }\n      }), __jsx(RadioGroup, {\n        \"aria-label\": \"answer\",\n        name: \"answer\",\n        value: testState.answer || '',\n        onChange: e => {\n          e.persist();\n          setTestState(testState => _objectSpread({}, testState, {\n            answer: e.target.value\n          }));\n        }\n      }, __jsx(Grid, {\n        container: true,\n        spacing: 0,\n        justify: \"flex-start\",\n        alignItems: \"flex-start\"\n      }, answerChoices.slice(0, 3).map((value, index) => __jsx(Grid, {\n        item: true,\n        xs: 6,\n        key: index\n      }, __jsx(FormControlLabel, {\n        style: {\n          float: 'left'\n        },\n        value: value,\n        control: __jsx(Radio, {\n          color: \"primary\"\n        }),\n        label: __jsx(Typography, {\n          style: {\n            fontWeight: '600'\n          }\n        }, value)\n      }))), answerChoices.slice(3, 5).map((value, index) => __jsx(Grid, {\n        item: true,\n        xs: 6,\n        key: index\n      }, __jsx(FormControlLabel, {\n        style: {\n          float: 'left'\n        },\n        value: value,\n        control: __jsx(Radio, {\n          color: \"primary\"\n        }),\n        label: __jsx(Typography, {\n          style: {\n            fontWeight: '600'\n          }\n        }, value)\n      })))))));\n    }\n  };\n\n  const questionNumber = get(testState.question, 'number') ? get(testState.question, 'number') : null;\n  return __jsx(React.Fragment, null, __jsx(NextSeo, {\n    noindex: true\n  }), __jsx(TopBar, null, __jsx(ResponsiveImage, {\n    width: \"auto\",\n    height: \"100%\",\n    alt: \"Forward School\",\n    src: require('../../../../public/forward-school-logo-white.png')\n  })), __jsx(QuestionStepperBar, null, __jsx(Hidden, {\n    mdUp: true\n  }, __jsx(MobileStepper, {\n    steps: testState.totalQuestions,\n    position: \"static\",\n    variant: \"dots\",\n    activeStep: questionNumber ? questionNumber - 1 : null,\n    style: {\n      background: 'transparent'\n    }\n  })), __jsx(Container, null, __jsx(Grid, {\n    container: true,\n    spacing: 0\n  }, __jsx(Grid, {\n    item: true,\n    xs: 12\n  }, __jsx(Hidden, {\n    smDown: true\n  }, __jsx(Stepper, {\n    alternativeLabel: true,\n    activeStep: questionNumber ? questionNumber - 1 : null,\n    style: {\n      background: 'transparent'\n    }\n  }, [...Array(testState.totalQuestions).keys()].map((value, index) => {\n    return __jsx(Step, {\n      key: value + 1\n    }, __jsx(StepLabel, null));\n  }))))))), __jsx(Main, null, __jsx(Container, null, renderContent())), __jsx(BottomBar, null, __jsx(Container, null, __jsx(Grid, {\n    container: true,\n    justify: \"space-between\",\n    alignItems: \"center\",\n    spacing: 3\n  }, __jsx(Grid, {\n    item: true,\n    xs: 4\n  }, __jsx(Typography, {\n    variant: \"button\",\n    style: {\n      fontWeight: 'bold',\n      color: 'white'\n    }\n  }, questionNumber !== null ? `QUESTION ${questionNumber}` : '')), __jsx(Grid, {\n    item: true,\n    xs: 4\n  }, __jsx(TimerCountdown, {\n    variant: \"h4\"\n  }, testState.timeTaken >= testState.duration ? '00:00' : formatTime(testState.duration - testState.timeTaken))), __jsx(Grid, {\n    item: true,\n    xs: 4\n  }, __jsx(NextButton, {\n    disabled: !testState.answer || testState.loading || testState.timeTaken > testState.duration,\n    size: \"large\",\n    endIcon: __jsx(KeyboardArrowRight, null),\n    onClick: () => {\n      const fsatApi = FSAT_API();\n      setTestState(testState => _objectSpread({}, testState, {\n        loading: true\n      }));\n      fsatApi.answerQuestion({\n        testId: testState.id,\n        questionNumber,\n        answer: testState.answer\n      }).then(response => {\n        setTestState(testState => _objectSpread({}, testState, {}, response.data, {\n          answer: null,\n          loading: false\n        }));\n        return null;\n      }).catch(error => {\n        Sentry.captureException(error);\n        const errorMessage = getErrorMessage(error);\n        setTestState(testState => _objectSpread({}, testState, {\n          loading: false\n        }));\n        enqueueSnackbar(errorMessage.message, {\n          variant: errorMessage.type,\n          anchorOrigin: {\n            vertical: 'bottom',\n            horizontal: 'left'\n          }\n        });\n      });\n    }\n  }, questionNumber === testState.totalQuestions ? 'Finish' : 'Next'))))));\n};\n\nTest.getInitialProps = async ({\n  req,\n  res,\n  query\n}) => {\n  const fsatApi = FSAT_API();\n  const {\n    testId\n  } = query;\n\n  if (req) {\n    try {\n      const response = await fsatApi.getTest({\n        testId\n      });\n\n      if (response.data.ended) {\n        res.writeHead(302, {\n          Location: `/tests/${testId}/report`\n        });\n        res.end();\n      }\n\n      return {\n        data: response.data,\n        error: null\n      };\n    } catch (error) {\n      res.statusCode = 404;\n      return {\n        data: null,\n        error: error.response.data\n      };\n    }\n  }\n\n  return {\n    data: null,\n    error: null\n  };\n};\n\nexport default Test;","map":{"version":3,"sources":["/home/forwardschool/aptitude-web/src/pages/tests/[testId]/index.js"],"names":["React","useState","useEffect","styled","Container","Grid","Box","Button","Typography","Stepper","MobileStepper","Step","StepLabel","Hidden","Radio","RadioGroup","FormControlLabel","CircularProgress","Router","ErrorPage","NextSeo","useSnackbar","get","KeyboardArrowRight","Sentry","theme","getErrorMessage","ResponsiveImage","FSAT_API","Centered","div","Main","breakpoints","down","Question","Bar","palette","primary","main","TopBar","QuestionStepperBar","grey","BottomBar","TimerCountdown","common","white","NextButton","Test","data","error","statusCode","enqueueSnackbar","testState","setTestState","answer","loading","ended","timeTaken","setInterval","Date","parse","start","formatTime","timeInSeconds","format","val","Math","floor","slice","minutes","map","join","renderContent","duration","push","id","fontWeight","fsatApi","startTest","testId","then","response","catch","captureException","errorMessage","message","variant","type","anchorOrigin","vertical","horizontal","question","description","image","answerChoices","contentType","__html","e","persist","target","value","index","float","questionNumber","require","totalQuestions","background","Array","keys","color","answerQuestion","getInitialProps","req","res","query","getTest","writeHead","Location","end"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport PropTypes from 'prop-types'\nimport styled from 'styled-components'\nimport {\n  Container,\n  Grid,\n  Box,\n  Button,\n  Typography,\n  Stepper,\n  MobileStepper,\n  Step,\n  StepLabel,\n  Hidden,\n  Radio,\n  RadioGroup,\n  FormControlLabel,\n  CircularProgress\n} from '@material-ui/core'\nimport Router from 'next/router'\nimport ErrorPage from 'next/error'\nimport { NextSeo } from 'next-seo'\nimport { useSnackbar } from 'notistack'\nimport { get } from 'lodash'\nimport KeyboardArrowRight from '@material-ui/icons/KeyboardArrowRight'\nimport * as Sentry from '@sentry/browser'\n\nimport theme from '../../../config/theme'\nimport { getErrorMessage } from '../../../utils/error'\nimport ResponsiveImage from '../../../components/ResponsiveImage'\nimport FSAT_API from '../../../api'\n\nconst Centered = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  text-align: center;\n`\n\nconst Main = styled(Centered)`\n  min-height: calc(100vh - 220px);\n  margin: 140px 0 80px;\n  padding: 20px 10px;\n\n  background ${theme.breakpoints.down('md')} {\n    min-height: calc(100vh - 170px);\n    margin: 105px 0 65px;\n    padding: 15px 10px;\n  }\n\n  ${theme.breakpoints.down('sm')} {\n    min-height: calc(100vh - 120px);\n    margin: 75px 0 45px;\n    padding: 20px 10px;\n  }\n`\n\nconst Question = styled.div`\n  font-weight: 600;\n  font-size: 1rem;\n  text-align: left;\n\n  background ${theme.breakpoints.down('md')} {\n    font-size: 0.95rem;\n  }\n\n  ${theme.breakpoints.down('sm')} {\n    font-size: 0.9rem;\n  }\n`\n\nconst Bar = styled(Centered)`\n  position: fixed;\n  height: 80px;\n  padding: 15px;\n  background-color: ${theme.palette.primary.main};\n\n  ${theme.breakpoints.down('md')} {\n    height: 65px;\n    padding: 12px;\n  }\n\n  ${theme.breakpoints.down('sm')} {\n    height: 45px;\n    padding: 8px;\n  }\n`\n\nconst TopBar = styled(Bar)`\n  top: 0;\n  left: 0;\n`\n\nconst QuestionStepperBar = styled(Bar)`\n  top: 80px;\n  left: 0;\n  height: 60px;\n  padding: 15px 0 0 0;\n  background-color: ${theme.palette.grey[100]};\n\n  ${theme.breakpoints.down('md')} {\n    top: 65px;\n    height: 50px;\n    padding: 15px 0 0 0;\n  }\n\n  ${theme.breakpoints.down('sm')} {\n    top: 45px;\n    height: 30px;\n    padding: 10px;\n  }\n`\n\nconst BottomBar = styled(Bar)`\n  bottom: 0;\n  left: 0;\n`\n\nconst TimerCountdown = styled(Typography)`\n  color: ${theme.palette.common.white};\n  font-weight: bold;\n`\n\nconst NextButton = styled(Button)`\n  color: ${theme.palette.common.white};\n  font-weight: bold;\n\n  &:disabled {\n    color: ${theme.palette.grey[400]};\n  }\n`\n\nconst Test = ({ data, error }) => {\n  if (error) {\n    return <ErrorPage statusCode={error.statusCode} />\n  }\n\n  const { enqueueSnackbar } = useSnackbar()\n  const [testState, setTestState] = useState({\n    ...data,\n    answer: null,\n    loading: false\n  })\n\n  useEffect(() => {\n    if (!testState.ended && testState.timeTaken > 0) {\n      setInterval(() => {\n        setTestState(testState => ({\n          ...testState,\n          timeTaken: (Date.now() - Date.parse(testState.start)) / 1000\n        }))\n      }, 1000)\n    }\n  }, [null])\n\n  const formatTime = timeInSeconds => {\n    const format = val => `0${Math.floor(val)}`.slice(-2)\n    const minutes = (timeInSeconds % 3600) / 60\n\n    return [minutes, timeInSeconds % 60].map(format).join(':')\n  }\n\n  const renderContent = () => {\n    // Test ended\n    if (testState.ended || testState.timeTaken > testState.duration) {\n      Router.push(`/tests/${testState.id}/report`)\n    }\n\n    if (testState.loading) {\n      return <CircularProgress />\n    }\n\n    // Test not yet started\n    if (!testState.ended && testState.timeTaken === 0) {\n      return (\n        <Grid container spacing={3} justify='center'>\n          <Grid item xs={12} sm={8} md={6}>\n            <Typography\n              style={{ fontWeight: 'bold' }}\n              variant='h4'\n              component='p'\n              gutterBottom\n            >\n              Instructions\n            </Typography>\n            <Box textAlign='left' fontSize='h6.fontSize'>\n              <ol>\n                <li>You must attempt all of the questions in this test.</li>\n                <li>\n                  You have 30 minutes to complete 20 questions, and once a\n                  question is answered it cannot be changed.\n                </li>\n                <li>\n                  This is a timed test, so make sure you have a 30-minute block\n                  of uninterrupted time.\n                </li>\n                <li>\n                  Coding knowledge is not required; the questions are simply\n                  testing your natural aptitude as a developer.\n                </li>\n                <li>\n                  After completing the test, look for an email with your test\n                  report and next steps.\n                </li>\n              </ol>\n            </Box>\n            <Button\n              variant='contained'\n              color='primary'\n              size='large'\n              onClick={() => {\n                const fsatApi = FSAT_API()\n\n                setTestState(testState => ({\n                  ...testState,\n                  loading: true\n                }))\n\n                fsatApi\n                  .startTest({ testId: testState.id })\n                  .then(response => {\n                    setTestState(testState => ({\n                      ...testState,\n                      ...response.data,\n                      timeTaken:\n                        (Date.now() - Date.parse(response.data.start)) / 1000,\n                      loading: false\n                    }))\n\n                    setInterval(() => {\n                      setTestState(testState => ({\n                        ...testState,\n                        timeTaken:\n                          (Date.now() - Date.parse(response.data.start)) / 1000\n                      }))\n                    }, 1000)\n\n                    return null\n                  })\n                  .catch(error => {\n                    Sentry.captureException(error)\n\n                    const errorMessage = getErrorMessage(error)\n\n                    setTestState(testState => ({\n                      ...testState,\n                      loading: false\n                    }))\n\n                    enqueueSnackbar(errorMessage.message, {\n                      variant: errorMessage.type,\n                      anchorOrigin: {\n                        vertical: 'bottom',\n                        horizontal: 'left'\n                      }\n                    })\n                  })\n              }}\n            >\n              Start\n            </Button>\n          </Grid>\n        </Grid>\n      )\n    }\n\n    if (testState.question) {\n      const { description, image, answerChoices } = testState.question\n\n      return (\n        <Grid container spacing={3} justify='center'>\n          <Grid item xs={12} sm={8} md={6}>\n            {image.data && (\n              <ResponsiveImage\n                src={`data:${image.contentType};base64,${image.data}`}\n              />\n            )}\n            <Question dangerouslySetInnerHTML={{ __html: description }} />\n            <RadioGroup\n              aria-label='answer'\n              name='answer'\n              value={testState.answer || ''}\n              onChange={e => {\n                e.persist()\n                setTestState(testState => ({\n                  ...testState,\n                  answer: e.target.value\n                }))\n              }}\n            >\n              <Grid\n                container\n                spacing={0}\n                justify='flex-start'\n                alignItems='flex-start'\n              >\n                {answerChoices.slice(0, 3).map((value, index) => (\n                  <Grid item xs={6} key={index}>\n                    <FormControlLabel\n                      style={{ float: 'left' }}\n                      value={value}\n                      control={<Radio color='primary' />}\n                      label={\n                        <Typography style={{ fontWeight: '600' }}>\n                          {value}\n                        </Typography>\n                      }\n                    />\n                  </Grid>\n                ))}\n                {answerChoices.slice(3, 5).map((value, index) => (\n                  <Grid item xs={6} key={index}>\n                    <FormControlLabel\n                      style={{ float: 'left' }}\n                      value={value}\n                      control={<Radio color='primary' />}\n                      label={\n                        <Typography style={{ fontWeight: '600' }}>\n                          {value}\n                        </Typography>\n                      }\n                    />\n                  </Grid>\n                ))}\n              </Grid>\n            </RadioGroup>\n          </Grid>\n        </Grid>\n      )\n    }\n  }\n\n  const questionNumber = get(testState.question, 'number')\n    ? get(testState.question, 'number')\n    : null\n\n  return (\n    <>\n      <NextSeo noindex />\n      <TopBar>\n        <ResponsiveImage\n          width='auto'\n          height='100%'\n          alt='Forward School'\n          src={require('../../../../public/forward-school-logo-white.png')}\n        />\n      </TopBar>\n      <QuestionStepperBar>\n        <Hidden mdUp>\n          <MobileStepper\n            steps={testState.totalQuestions}\n            position='static'\n            variant='dots'\n            activeStep={questionNumber ? questionNumber - 1 : null}\n            style={{ background: 'transparent' }}\n          />\n        </Hidden>\n        <Container>\n          <Grid container spacing={0}>\n            <Grid item xs={12}>\n              <Hidden smDown>\n                <Stepper\n                  alternativeLabel\n                  activeStep={questionNumber ? questionNumber - 1 : null}\n                  style={{ background: 'transparent' }}\n                >\n                  {[...Array(testState.totalQuestions).keys()].map(\n                    (value, index) => {\n                      return (\n                        <Step key={value + 1}>\n                          <StepLabel />\n                        </Step>\n                      )\n                    }\n                  )}\n                </Stepper>\n              </Hidden>\n            </Grid>\n          </Grid>\n        </Container>\n      </QuestionStepperBar>\n      <Main>\n        <Container>{renderContent()}</Container>\n      </Main>\n      <BottomBar>\n        <Container>\n          <Grid\n            container\n            justify='space-between'\n            alignItems='center'\n            spacing={3}\n          >\n            <Grid item xs={4}>\n              <Typography\n                variant='button'\n                style={{ fontWeight: 'bold', color: 'white' }}\n              >\n                {questionNumber !== null ? `QUESTION ${questionNumber}` : ''}\n              </Typography>\n            </Grid>\n            <Grid item xs={4}>\n              <TimerCountdown variant='h4'>\n                {testState.timeTaken >= testState.duration\n                  ? '00:00'\n                  : formatTime(testState.duration - testState.timeTaken)}\n              </TimerCountdown>\n            </Grid>\n            <Grid item xs={4}>\n              <NextButton\n                disabled={\n                  !testState.answer ||\n                  testState.loading ||\n                  testState.timeTaken > testState.duration\n                }\n                size='large'\n                endIcon={<KeyboardArrowRight />}\n                onClick={() => {\n                  const fsatApi = FSAT_API()\n\n                  setTestState(testState => ({\n                    ...testState,\n                    loading: true\n                  }))\n\n                  fsatApi\n                    .answerQuestion({\n                      testId: testState.id,\n                      questionNumber,\n                      answer: testState.answer\n                    })\n                    .then(response => {\n                      setTestState(testState => ({\n                        ...testState,\n                        ...response.data,\n                        answer: null,\n                        loading: false\n                      }))\n\n                      return null\n                    })\n                    .catch(error => {\n                      Sentry.captureException(error)\n\n                      const errorMessage = getErrorMessage(error)\n\n                      setTestState(testState => ({\n                        ...testState,\n                        loading: false\n                      }))\n\n                      enqueueSnackbar(errorMessage.message, {\n                        variant: errorMessage.type,\n                        anchorOrigin: {\n                          vertical: 'bottom',\n                          horizontal: 'left'\n                        }\n                      })\n                    })\n                }}\n              >\n                {questionNumber === testState.totalQuestions\n                  ? 'Finish'\n                  : 'Next'}\n              </NextButton>\n            </Grid>\n          </Grid>\n        </Container>\n      </BottomBar>\n    </>\n  )\n}\n\nTest.getInitialProps = async ({ req, res, query }) => {\n  const fsatApi = FSAT_API()\n  const { testId } = query\n\n  if (req) {\n    try {\n      const response = await fsatApi.getTest({\n        testId\n      })\n\n      if (response.data.ended) {\n        res.writeHead(302, {\n          Location: `/tests/${testId}/report`\n        })\n        res.end()\n      }\n\n      return { data: response.data, error: null }\n    } catch (error) {\n      res.statusCode = 404\n\n      return { data: null, error: error.response.data }\n    }\n  }\n\n  return { data: null, error: null }\n}\n\nTest.propTypes = {\n  data: PropTypes.object,\n  error: PropTypes.object\n}\n\nexport default Test\n"]},"metadata":{},"sourceType":"module"}